var field=document.createElement("div");field.className="field";for(var i=0;100>i;i++)field.innerHTML+='<div class="excel"></div>';game.appendChild(field);for(var excel=document.getElementsByClassName("excel"),x=1,y=10,i$0=0;i$0<excel.length;i$0++)10<x&&(x=1,y--),excel[i$0].setAttribute("data-posX",x),excel[i$0].setAttribute("data-posY",y),x++;function generateSnake(){return[Math.round(7*Math.random()+3),Math.round(9*Math.random()+1)]}
for(var coordinates=generateSnake(),snakeBody=[document.querySelector('[data-posX = "'+coordinates[0]+'"][data-posY = "'+coordinates[1]+'"]'),document.querySelector('[data-posX = "'+(coordinates[0]-1)+'"][data-posY = "'+coordinates[1]+'"]'),document.querySelector('[data-posX = "'+(coordinates[0]-2)+'"][data-posY = "'+coordinates[1]+'"]')],i$1=0;i$1<snakeBody.length;i$1++)snakeBody[i$1].classList.add("snakeBody");snakeBody[0].classList.add("head");var apple;
function createApple(){function a(){return[Math.round(9*Math.random()+1),Math.round(9*Math.random()+1)]}var b=a();for(apple=document.querySelector('[data-posX = "'+b[0]+'"][data-posY = "'+b[1]+'"]');apple.classList.contains("snakeBody");)b=a(),apple=document.querySelector('[data-posX = "'+b[0]+'"][data-posY = "'+b[1]+'"]');apple.classList.add("apple")}createApple();var timerChecked=!1,direction="right",steps=!0,input=setting.getElementsByTagName("input")[0],score=0;
input.value=`Ваши очки: ${score}`;var interval,speed=10-progress.value;
function move(){var a=[snakeBody[0].getAttribute("data-posX"),snakeBody[0].getAttribute("data-posY")];snakeBody[0].classList.remove("head");snakeBody[snakeBody.length-1].classList.remove("snakeBody");snakeBody.pop();"right"==direction?10>a[0]?snakeBody.unshift(document.querySelector('[data-posX = "'+(+a[0]+1)+'"][data-posY = "'+a[1]+'"]')):snakeBody.unshift(document.querySelector('[data-posX = "1"][data-posY = "'+a[1]+'"]')):"left"==direction?1<a[0]?snakeBody.unshift(document.querySelector('[data-posX = "'+
(+a[0]-1)+'"][data-posY = "'+a[1]+'"]')):snakeBody.unshift(document.querySelector('[data-posX = "10"][data-posY = "'+a[1]+'"]')):"up"==direction?10>a[1]?snakeBody.unshift(document.querySelector('[data-posX = "'+a[0]+'"][data-posY = "'+(+a[1]+1)+'"]')):snakeBody.unshift(document.querySelector('[data-posX = "'+a[0]+'"][data-posY = "1"]')):"down"==direction&&(1<a[1]?snakeBody.unshift(document.querySelector('[data-posX = "'+a[0]+'"][data-posY = "'+(+a[1]-1)+'"]')):snakeBody.unshift(document.querySelector('[data-posX = "'+
a[0]+'"][data-posY = "10"]')));if(snakeBody[0].classList.contains("apple")){apple.classList.remove("apple");a=snakeBody[snakeBody.length-1].getAttribute("data-posX");var b=snakeBody[snakeBody.length-1].getAttribute("data-posY");snakeBody.push(document.querySelector('[data-posX = "'+a+'"][data-posY = "'+b+'"]'));createApple();score++;input.value=`Ваши очки: ${score}`}snakeBody[0].classList.contains("snakeBody")&&(clearInterval(interval),timerChecked=!1,pause.getElementsByTagName("p")[0].innerHTML=
`Игра окончена! Ваши очки: ${score}`,pause.getElementsByClassName("bg")[0].style.background="red",pause.classList.remove("active"));snakeBody[0].classList.add("head");snakeBody[0].classList.add("snakeBody");steps=!0}
window.addEventListener("keydown",function(a){1==steps&&pause.classList.contains("active")&&(37==a.keyCode&&"right"!=direction&&(0==timerChecked&&(interval=setInterval(move,50*speed),timerChecked=!0),direction="left",steps=!1),38==a.keyCode&&"down"!=direction&&(0==timerChecked&&(interval=setInterval(move,50*speed),timerChecked=!0),direction="up",steps=!1),39==a.keyCode&&"left"!=direction&&(0==timerChecked&&(interval=setInterval(move,50*speed),timerChecked=!0),direction="right",steps=!1),40==a.keyCode&&
"up"!=direction&&(0==timerChecked&&(interval=setInterval(move,50*speed),timerChecked=!0),direction="down",steps=!1));32==a.keyCode&&0!=timerChecked&&(pause.classList.contains("active")?(clearInterval(interval),pause.getElementsByTagName("p")[0].innerHTML="pause",pause.getElementsByClassName("bg")[0].style.background="black"):interval=setInterval(move,50*speed),pause.classList.toggle("active"));if(82==a.keyCode){clearInterval(interval);pause.classList.add("active");timerChecked=!1;direction="right";
score=0;input.value=`Ваши очки: ${score}`;for(var b=0;b<snakeBody.length;b++)snakeBody[b].classList.remove("snakeBody");snakeBody[0].classList.remove("head");snakeBody.length=3;coordinates=generateSnake();snakeBody=[document.querySelector('[data-posX = "'+coordinates[0]+'"][data-posY = "'+coordinates[1]+'"]'),document.querySelector('[data-posX = "'+(coordinates[0]-1)+'"][data-posY = "'+coordinates[1]+'"]'),document.querySelector('[data-posX = "'+(coordinates[0]-
2)+'"][data-posY = "'+coordinates[1]+'"]')];for(b=0;b<snakeBody.length;b++)snakeBody[b].classList.add("snakeBody");snakeBody[0].classList.add("head");apple.classList.remove("apple");createApple()}pause.classList.contains("active")&&(81==a.keyCode&&(speed++,10<speed&&(speed=10)),69==a.keyCode&&(speed--,1>speed&&(speed=1)),69==a.keyCode||81==a.keyCode)&&(progress.value=10-speed,0!=timerChecked&&(clearInterval(interval),interval=setInterval(move,50*speed)))});